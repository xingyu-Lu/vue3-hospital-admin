var $=Object.defineProperty,R=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var F=(t,e,a)=>e in t?$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,w=(t,e)=>{for(var a in e||(e={}))q.call(e,a)&&F(t,a,e[a]);if(b)for(var a of b(e))y.call(e,a)&&F(t,a,e[a]);return t},V=(t,e)=>R(t,j(e));import"./wangEditor.0c7893a0.js";import{_ as B,s as C}from"./index.efe1c411.js";import{ae as E,ag as U,u as A,r as M,o as N,b as f,t as S,d as u,e as D,n as G,w as s,E as _,j as o,k as c,i as O}from"./vendor.22953ba2.js";const T={name:"menu_add",setup(){const t=E(null),e=U(),a=A(),{id:n}=e.query,m=M({token:"Bearer "+C("token")||"",id:n,menuForm:{name:"",password:"",status:"1"},rules:{name:[{required:"true",message:"\u8D26\u53F7\u540D\u79F0\u5FC5\u987B",trigger:["change"]}],password:[{required:"true",message:"\u8D26\u53F7\u5BC6\u7801\u5FC5\u987B",trigger:["change"]}],status:[{required:"true",message:"\u8D26\u53F7\u72B6\u6001\u5FC5\u987B",trigger:["change"]}]}});N(()=>{n&&f.get(`/api/back/admins/${n}`).then(r=>{m.menuForm={name:r.data.name,status:String(r.data.status)}})});const g=()=>{t.value.validate(r=>{if(r){let l=f.post,d={name:m.menuForm.name,password:m.menuForm.password,status:m.menuForm.status};if(d.name.length>30){_.error("\u8D26\u53F7\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26");return}if(d.status.length>30){_.error("\u8D26\u53F7\u5BC6\u7801\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26");return}let p="/api/back/admins";n&&(l=f.put,p=`/api/back/admins/${n}`),l(p,d).then(()=>{_.success(n?"\u4FEE\u6539\u6210\u529F":"\u6DFB\u52A0\u6210\u529F"),a.push({path:"/admin"})})}})};return V(w({},S(m)),{menuRef:t,submitAdd:g})}},z=c("\u5F00\u542F"),H=c("\u7981\u7528");function I(t,e,a,n,m,g){const r=u("el-input"),l=u("el-form-item"),d=u("el-radio"),p=u("el-radio-group"),h=u("el-button"),k=u("el-form"),v=u("el-card");return D(),G(v,null,{default:s(()=>[o(k,{model:t.menuForm,rules:t.rules,ref:"menuRef","label-width":"100px"},{default:s(()=>[o(l,{label:"\u8D26\u53F7",prop:"name"},{default:s(()=>[o(r,{modelValue:t.menuForm.name,"onUpdate:modelValue":e[0]||(e[0]=i=>t.menuForm.name=i),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(l,{label:"\u5BC6\u7801",prop:"password"},{default:s(()=>[o(r,{modelValue:t.menuForm.password,"onUpdate:modelValue":e[1]||(e[1]=i=>t.menuForm.password=i),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(l,{label:"\u4E0A\u67B6\u72B6\u6001",prop:"status"},{default:s(()=>[o(p,{modelValue:t.menuForm.status,"onUpdate:modelValue":e[2]||(e[2]=i=>t.menuForm.status=i)},{default:s(()=>[o(d,{label:"1"},{default:s(()=>[z]),_:1}),o(d,{label:"0"},{default:s(()=>[H]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(l,null,{default:s(()=>[o(h,{type:"primary",onClick:e[3]||(e[3]=i=>n.submitAdd())},{default:s(()=>[c(O(t.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var Q=B(T,[["render",I]]);export{Q as default};
