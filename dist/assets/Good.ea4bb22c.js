var P=Object.defineProperty,I=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var k=(t,o,e)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e,C=(t,o)=>{for(var e in o||(o={}))N.call(o,e)&&k(t,e,o[e]);if(b)for(var e of b(o))D.call(o,e)&&k(t,e,o[e]);return t},y=(t,o)=>I(t,z(o));import{_ as E}from"./index.85c583ef.js";import{ag as j,u as B,r as G,o as T,b as v,t as V,d as c,ai as $,e as d,n as S,w as i,E as A,g as w,j as s,aj as M,f as g,k as R}from"./vendor.459d0839.js";const q={name:"Good",setup(){const t=j(null),o=B(),e=G({loading:!1,tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10});T(()=>{n()});const n=()=>{e.loading=!0,v.get("/goods/list",{params:{pageNumber:e.currentPage,pageSize:e.pageSize}}).then(a=>{e.tableData=a.list,e.total=a.totalCount,e.currentPage=a.currPage,e.loading=!1})},h=()=>{o.push({path:"/add"})},m=a=>{o.push({path:"/add",query:{id:a}})},p=a=>{e.multipleSelection=a},l=a=>{e.currentPage=a,n()},u=(a,_)=>{v.put(`/goods/status/${_}`,{ids:a?[a]:[]}).then(()=>{A.success("\u4FEE\u6539\u6210\u529F"),n()})};return y(C({},V(e)),{multipleTable:t,handleSelectionChange:p,handleAdd:h,handleEdit:m,getGoodList:n,changePage:l,handleStatus:u})}},L={class:"header"},F=R("\u65B0\u589E\u5546\u54C1"),H=["src"],J={key:0,style:{color:"green"}},K={key:1,style:{color:"red"}},O=["onClick"],Q=["onClick"],U=["onClick"];function W(t,o,e,n,h,m){const p=c("el-button"),l=c("el-table-column"),u=c("el-table"),a=c("el-pagination"),_=c("el-card"),x=$("loading");return d(),S(_,{class:"good-container"},{header:i(()=>[w("div",L,[s(p,{type:"primary",size:"small",icon:"el-icon-plus",onClick:n.handleAdd},{default:i(()=>[F]),_:1},8,["onClick"])])]),default:i(()=>[M((d(),S(u,{ref:"multipleTable",data:t.tableData,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:n.handleSelectionChange},{default:i(()=>[s(l,{type:"selection",width:"55"}),s(l,{prop:"goodsId",label:"\u5546\u54C1\u7F16\u53F7"}),s(l,{prop:"goodsName",label:"\u5546\u54C1\u540D"}),s(l,{prop:"goodsIntro",label:"\u5546\u54C1\u7B80\u4ECB"}),s(l,{label:"\u5546\u54C1\u56FE\u7247",width:"150px"},{default:i(r=>[(d(),g("img",{style:{width:"100px",height:"100px"},key:r.row.goodsId,src:t.$filters.prefix(r.row.goodsCoverImg),alt:"\u5546\u54C1\u4E3B\u56FE"},null,8,H))]),_:1}),s(l,{prop:"stockNum",label:"\u5546\u54C1\u5E93\u5B58"}),s(l,{prop:"sellingPrice",label:"\u5546\u54C1\u552E\u4EF7"}),s(l,{label:"\u4E0A\u67B6\u72B6\u6001"},{default:i(r=>[r.row.goodsSellStatus==0?(d(),g("span",J,"\u9500\u552E\u4E2D")):(d(),g("span",K,"\u5DF2\u4E0B\u67B6"))]),_:1}),s(l,{label:"\u64CD\u4F5C",width:"100"},{default:i(r=>[w("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:f=>n.handleEdit(r.row.goodsId)},"\u4FEE\u6539",8,O),r.row.goodsSellStatus==0?(d(),g("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:f=>n.handleStatus(r.row.goodsId,1)},"\u4E0B\u67B6",8,Q)):(d(),g("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:f=>n.handleStatus(r.row.goodsId,0)},"\u4E0A\u67B6",8,U))]),_:1})]),_:1},8,["data","onSelectionChange"])),[[x,t.loading]]),s(a,{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.currentPage,onCurrentChange:n.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var ee=E(q,[["render",W],["__scopeId","data-v-2f5dc316"]]);export{ee as default};
