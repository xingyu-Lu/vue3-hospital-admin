var D=Object.defineProperty,E=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var f=(e,t,s)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,k=(e,t)=>{for(var s in t||(t={}))B.call(t,s)&&f(e,s,t[s]);if(b)for(var s of b(t))L.call(t,s)&&f(e,s,t[s]);return e},w=(e,t)=>E(e,P(t));import{_ as S}from"./index.f2113ae2.js";import{u as j,r as N,o as V,b as u,t as A,al as M,d as c,am as R,e as l,n as h,w as r,E as $,j as n,an as q,f as d,g as z,k as T}from"./vendor.15e5bf5f.js";const F={name:"rotate_list",setup(){const e=j(),t=N({loading:!1,tableData:[],srcList:[]});V(()=>{s(),i()});const s=()=>{t.loading=!0,u.get("/api/back/historyPics").then(a=>{t.tableData=a.data,t.loading=!1})},i=()=>{u.get("/api/back/historyPics/srclist").then(a=>{t.srcList=a.data})},m=()=>{e.push({path:"/history-pic-add"})},g=a=>{e.push({path:"/history-pic-add",query:{id:a}})},_=(a,p)=>{u.put("/api/back/historyPics/status",{id:a,status:p}).then(()=>{$.success("\u4FEE\u6539\u6210\u529F"),s()})};return w(k({},A(t)),{handleAdd:m,handleEdit:g,handleStatus:_,Plus:M})}},G=T("\u65B0\u589E"),H={key:0,style:{color:"green"}},I={key:1,style:{color:"red"}},J=["onClick"],K=["onClick"],O=["onClick"];function Q(e,t,s,i,m,g){const _=c("el-button"),a=c("el-table-column"),p=c("el-image"),v=c("el-table"),x=c("el-card"),C=R("loading");return l(),h(x,{style:{"min-height":"100%"}},{header:r(()=>[n(_,{type:"primary",icon:i.Plus,onClick:i.handleAdd},{default:r(()=>[G]),_:1},8,["icon","onClick"])]),default:r(()=>[q((l(),h(v,{data:e.tableData,stripe:"",style:{width:"100%"}},{default:r(()=>[n(a,{prop:"id",label:"id"}),n(a,{label:"\u56FE\u7247"},{default:r(o=>[(l(),h(p,{key:o.row.id,src:o.row.url,lazy:!0,"initial-index":1},null,8,["src"]))]),_:1}),n(a,{prop:"title",label:"\u6807\u9898"}),n(a,{prop:"status",label:"\u72B6\u6001"},{default:r(o=>[o.row.status==1?(l(),d("span",H,"\u5DF2\u5BA1\u6838")):(l(),d("span",I,"\u5F85\u5BA1\u6838"))]),_:1}),n(a,{prop:"sort",label:"\u6392\u5E8F"}),n(a,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),n(a,{label:"\u64CD\u4F5C",width:"200"},{default:r(o=>[z("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:y=>i.handleEdit(o.row.id)},"\u4FEE\u6539",8,J),o.row.status==1?(l(),d("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:y=>i.handleStatus(o.row.id,0)},"\u64A4\u9500\u5BA1\u6838",8,K)):(l(),d("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:y=>i.handleStatus(o.row.id,1)},"\u5BA1\u6838",8,O))]),_:1})]),_:1},8,["data"])),[[C,e.loading]])]),_:1})}var Y=S(F,[["render",Q]]);export{Y as default};
