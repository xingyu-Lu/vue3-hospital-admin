var v=Object.defineProperty,x=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var k=(a,t,e)=>t in a?v(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,f=(a,t)=>{for(var e in t||(t={}))z.call(t,e)&&k(a,e,t[e]);if(b)for(var e of b(t))E.call(t,e)&&k(a,e,t[e]);return a},y=(a,t)=>x(a,S(t));import{_ as B}from"./index.efe1c411.js";import{ae as C,u as j,r as A,o as D,b as P,t as N,af as V,d as c,e as d,n as M,w as i,E as R,j as r,f as p,g as T,k as q}from"./vendor.22953ba2.js";const L={name:"admin-list",setup(){C(!0);const a=C(null),t=j(),e=A({loading:!0,tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10});D(()=>{o()});const o=()=>{e.loading=!0,P.get("/api/back/admins",{params:{page:e.currentPage,page_size:e.pageSize}}).then(n=>{e.tableData=n.data,e.pageSize=n.pagination.perPage,e.total=n.pagination.total,e.currentPage=n.pagination.currentPage,e.loading=!0})},_=n=>{e.currentPage=n,o()},h=()=>{t.push({path:"/admin/add"})},u=n=>{t.push({path:"/admin/add",query:{id:n}})},l=(n,g)=>{P.put("/api/back/admins/status",{id:n,status:g}).then(()=>{R.success("\u4FEE\u6539\u6210\u529F"),o()})};return y(f({},N(e)),{multipleTable:a,changePage:_,handleAdd:h,handleEdit:u,handleStatus:l,Plus:V})}},$=q("\u65B0\u589E\u7BA1\u7406\u5458"),F={key:0,style:{color:"green"}},G={key:1,style:{color:"red"}},H=["onClick"],I=["onClick"],J=["onClick"];function K(a,t,e,o,_,h){const u=c("el-button"),l=c("el-table-column"),n=c("el-table"),g=c("el-pagination"),w=c("el-card");return d(),M(w,null,{header:i(()=>[r(u,{type:"primary",icon:o.Plus,onClick:o.handleAdd},{default:i(()=>[$]),_:1},8,["icon","onClick"])]),default:i(()=>[r(n,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:i(()=>[r(l,{prop:"id",label:"id"}),r(l,{prop:"name",label:"\u8D26\u53F7"}),r(l,{prop:"status",label:"\u72B6\u6001"},{default:i(s=>[s.row.status==1?(d(),p("span",F,"\u542F\u7528\u4E2D")):(d(),p("span",G,"\u7981\u7528"))]),_:1}),r(l,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),r(l,{label:"\u64CD\u4F5C",width:"100"},{default:i(s=>[T("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleEdit(s.row.id)},"\u4FEE\u6539",8,H),s.row.status==1?(d(),p("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleStatus(s.row.id,0)},"\u7981\u7528",8,I)):(d(),p("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleStatus(s.row.id,1)},"\u542F\u7528",8,J))]),_:1})]),_:1},8,["data"]),r(g,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var W=B(L,[["render",K]]);export{W as default};
