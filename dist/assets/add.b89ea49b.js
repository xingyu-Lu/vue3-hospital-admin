var $=Object.defineProperty,y=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var F=(a,e,t)=>e in a?$(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,h=(a,e)=>{for(var t in e||(e={}))j.call(e,t)&&F(a,t,e[t]);if(b)for(var t of b(e))q.call(e,t)&&F(a,t,e[t]);return a},w=(a,e)=>y(a,R(e));import"./wangEditor.860a6779.js";import{_ as B,a as C}from"./index.722ea317.js";import{ak as E,ao as U,u as A,r as M,o as N,b as f,t as S,d as l,e as D,n as G,w as s,E as _,j as o,k as c,i as O}from"./vendor.15e5bf5f.js";const T={name:"admin_add",setup(){const a=E(null),e=U(),t=A(),{id:n}=e.query,m=M({token:"Bearer "+C("token")||"",id:n,adminForm:{name:"",password:"",status:"1"},rules:{name:[{required:"true",message:"\u8D26\u53F7\u540D\u79F0\u5FC5\u987B",trigger:["change"]}],password:[{required:"true",message:"\u8D26\u53F7\u5BC6\u7801\u5FC5\u987B",trigger:["change"]}],status:[{required:"true",message:"\u8D26\u53F7\u72B6\u6001\u5FC5\u987B",trigger:["change"]}]}});N(()=>{n&&f.get(`/api/back/admins/${n}`).then(r=>{m.adminForm={name:r.data.name,status:String(r.data.status)}})});const g=()=>{a.value.validate(r=>{if(r){let d=f.post,u={name:m.adminForm.name,password:m.adminForm.password,status:m.adminForm.status};if(u.name.length>30){_.error("\u8D26\u53F7\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26");return}if(u.status.length>30){_.error("\u8D26\u53F7\u5BC6\u7801\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26");return}let p="/api/back/admins";n&&(d=f.put,p=`/api/back/admins/${n}`),d(p,u).then(()=>{_.success(n?"\u4FEE\u6539\u6210\u529F":"\u6DFB\u52A0\u6210\u529F"),t.push({path:"/admin"})})}})};return w(h({},S(m)),{adminRef:a,submitAdd:g})}},z=c("\u5F00\u542F"),H=c("\u7981\u7528");function I(a,e,t,n,m,g){const r=l("el-input"),d=l("el-form-item"),u=l("el-radio"),p=l("el-radio-group"),V=l("el-button"),k=l("el-form"),v=l("el-card");return D(),G(v,{style:{"min-height":"100%"}},{default:s(()=>[o(k,{model:a.adminForm,rules:a.rules,ref:"adminRef","label-width":"100px"},{default:s(()=>[o(d,{label:"\u8D26\u53F7",prop:"name"},{default:s(()=>[o(r,{modelValue:a.adminForm.name,"onUpdate:modelValue":e[0]||(e[0]=i=>a.adminForm.name=i),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(d,{label:"\u5BC6\u7801",prop:"password"},{default:s(()=>[o(r,{modelValue:a.adminForm.password,"onUpdate:modelValue":e[1]||(e[1]=i=>a.adminForm.password=i),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(d,{label:"\u4E0A\u67B6\u72B6\u6001",prop:"status"},{default:s(()=>[o(p,{modelValue:a.adminForm.status,"onUpdate:modelValue":e[2]||(e[2]=i=>a.adminForm.status=i)},{default:s(()=>[o(u,{label:"1"},{default:s(()=>[z]),_:1}),o(u,{label:"0"},{default:s(()=>[H]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d,null,{default:s(()=>[o(V,{type:"primary",onClick:e[3]||(e[3]=i=>n.submitAdd())},{default:s(()=>[c(O(a.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var Q=B(T,[["render",I]]);export{Q as default};
