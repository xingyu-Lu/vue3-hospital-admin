var x=Object.defineProperty,B=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var v=(t,o,n)=>o in t?x(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,V=(t,o)=>{for(var n in o||(o={}))$.call(o,n)&&v(t,n,o[n]);if(I)for(var n of I(o))z.call(o,n)&&v(t,n,o[n]);return t},F=(t,o)=>B(t,O(o));import{W as E}from"./wangEditor.860a6779.js";import{_ as H,a as L,c as w}from"./index.722ea317.js";import{ak as y,ao as M,u as N,r as R,o as q,b as p,as as C,t as U,d as r,e as b,n as S,w as s,E as j,j as l,f as P,q as W,F as D,g as G,k,i as T}from"./vendor.15e5bf5f.js";const J={name:"menu_add",setup(){const t=y(null),o=y(null),n=M(),g=N(),{id:u}=n.query,c=R({token:"Bearer "+L("token")||"",id:u,Form:{office_id:"0",status:"0",list:[]},rules:{office_id:[{required:!0,message:"\u79D1\u5BA4\u5FC5\u987B",trigger:["change"]}],status:[{required:!0,message:"\u72B6\u6001\u5FC5\u987B",trigger:["change"]}]}});let e;q(()=>{e=new E(o.value),e.config.showLinkImg=!1,e.config.showLinkImgAlt=!1,e.config.showLinkImgHref=!1,e.config.uploadImgMaxSize=10*1024*1024,e.config.uploadImgMaxLength=1,e.config.uploadImgAccept=["jpg","jpeg","png","gif","bmp","webp"],e.config.uploadFileName="file",e.config.uploadImgHeaders={Authorization:c.token},e.config.uploadImgParams={basket:"img"},e.config.uploadImgHooks={customInsert:function(a,i){console.log("result",i),a(i.data.src)}},e.config.uploadImgServer=w,Object.assign(e.config,{onchange(){console.log("change")}}),e.config.uploadVideoServer=w,e.config.uploadVideoMaxSize=1*200*1024*1024,e.config.uploadVideoAccept=["mp4"],e.config.uploadVideoParams={basket:"video"},e.config.uploadVideoName="file",e.config.uploadVideoHeaders={Authorization:c.token},e.config.uploadVideoHooks={customInsert:function(a,i){console.log("customInsert",i),a(i.data.src)}},e.create(),_(),u&&p.get(`/api/back/technicalOfficeIntroduces/${u}`).then(a=>{c.Form={office_id:a.data.office_id,name:a.data.name,status:String(a.data.status)},e&&e.txt.html(a.data.content)})}),C(()=>{e.destroy(),e=null});const _=async()=>{const a=await p.get("/api/back/technicalOffices");c.Form.list=a.data},f=()=>{t.value.validate(a=>{if(a){let i=p.post,h={office_id:c.Form.office_id,content:e.txt.html(),status:c.Form.status},m="/api/back/technicalOfficeIntroduces";u&&(i=p.put,m=`/api/back/technicalOfficeIntroduces/${u}`),i(m,h).then(()=>{u?j.success("\u4FEE\u6539\u6210\u529F"):j.success("\u6DFB\u52A0\u6210\u529F"),g.push({path:"/technicaloffice-introduce"})})}})};return F(V({},U(c)),{Ref:t,editor:o,submitAdd:f})}},K={ref:"editor",style:{"z-index":"1"}},Q=k("\u5DF2\u5BA1\u6838"),X=k("\u5F85\u5BA1\u6838");function Y(t,o,n,g,u,c){const e=r("el-option"),_=r("el-select"),f=r("el-form-item"),a=r("el-radio"),i=r("el-radio-group"),h=r("el-button"),m=r("el-form"),A=r("el-card");return b(),S(A,{style:{"min-height":"100%"}},{default:s(()=>[l(m,{model:t.Form,rules:t.rules,ref:"Ref","label-width":"100px"},{default:s(()=>[l(f,{label:"\u79D1\u5BA4",prop:"office_id"},{default:s(()=>[l(_,{modelValue:t.Form.office_id,"onUpdate:modelValue":o[0]||(o[0]=d=>t.Form.office_id=d),placeholder:"Select"},{default:s(()=>[l(e,{label:"\u65E0",value:"0"}),(b(!0),P(D,null,W(t.Form.list,d=>(b(),S(e,{key:d.id,label:d.name,value:d.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(f,{label:"\u5185\u5BB9",prop:"content"},{default:s(()=>[G("div",K,null,512)]),_:1}),l(f,{label:"\u72B6\u6001",prop:"status"},{default:s(()=>[l(i,{modelValue:t.Form.status,"onUpdate:modelValue":o[1]||(o[1]=d=>t.Form.status=d),disabled:""},{default:s(()=>[l(a,{label:"1"},{default:s(()=>[Q]),_:1}),l(a,{label:"0"},{default:s(()=>[X]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(f,null,{default:s(()=>[l(h,{type:"primary",onClick:o[2]||(o[2]=d=>g.submitAdd())},{default:s(()=>[k(T(t.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var ae=H(J,[["render",Y]]);export{ae as default};
