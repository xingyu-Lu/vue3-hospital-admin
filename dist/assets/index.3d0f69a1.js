var x=Object.defineProperty,z=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var f=(a,t,e)=>t in a?x(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,k=(a,t)=>{for(var e in t||(t={}))A.call(t,e)&&f(a,e,t[e]);if(b)for(var e of b(t))D.call(t,e)&&f(a,e,t[e]);return a},C=(a,t)=>z(a,E(t));import{_ as B}from"./index.658fd197.js";import{al as y,u as j,r as N,o as V,b as v,t as M,am as R,d,an as T,e as r,n as P,w as c,E as q,j as l,ao as L,f as p,g as $,k as F}from"./vendor.79f6bf74.js";const G={name:"admin-list",setup(){y(!0);const a=y(null),t=j(),e=N({loading:!1,tableData:[],multipleSelection:[],total:0,currentPage:1,pageSize:10});V(()=>{o()});const o=()=>{e.loading=!0,v.get("/api/back/admins",{params:{page:e.currentPage,page_size:e.pageSize}}).then(n=>{e.tableData=n.data,e.pageSize=n.pagination.perPage,e.total=n.pagination.total,e.currentPage=n.pagination.currentPage,e.loading=!1})},_=n=>{e.currentPage=n,o()},h=()=>{t.push({path:"/admin-add"})},u=n=>{t.push({path:"/admin-add",query:{id:n}})},s=(n,g)=>{v.put("/api/back/admins/status",{id:n,status:g}).then(()=>{q.success("\u4FEE\u6539\u6210\u529F"),o()})};return C(k({},M(e)),{multipleTable:a,changePage:_,handleAdd:h,handleEdit:u,handleStatus:s,Plus:R})}},H=F("\u65B0\u589E\u7BA1\u7406\u5458"),I={key:0,style:{color:"#67C23A"}},J={key:1,style:{color:"#E6A23C"}},K=["onClick"],O=["onClick"],Q=["onClick"];function U(a,t,e,o,_,h){const u=d("el-button"),s=d("el-table-column"),n=d("el-table"),g=d("el-pagination"),w=d("el-card"),S=T("loading");return r(),P(w,{style:{"min-height":"100%"}},{header:c(()=>[l(u,{type:"primary",icon:o.Plus,onClick:o.handleAdd},{default:c(()=>[H]),_:1},8,["icon","onClick"])]),default:c(()=>[L((r(),P(n,{data:a.tableData,stripe:"",style:{width:"100%"}},{default:c(()=>[l(s,{prop:"id",label:"id"}),l(s,{prop:"name",label:"\u8D26\u53F7"}),l(s,{prop:"status",label:"\u72B6\u6001"},{default:c(i=>[i.row.status==1?(r(),p("span",I,"\u542F\u7528\u4E2D")):(r(),p("span",J,"\u7981\u7528"))]),_:1}),l(s,{prop:"created_at",label:"\u521B\u5EFA\u65F6\u95F4"}),l(s,{label:"\u64CD\u4F5C",width:"100"},{default:c(i=>[$("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleEdit(i.row.id)},"\u4FEE\u6539",8,K),i.row.status==1?(r(),p("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleStatus(i.row.id,0)},"\u7981\u7528",8,O)):(r(),p("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:m=>o.handleStatus(i.row.id,1)},"\u542F\u7528",8,Q))]),_:1})]),_:1},8,["data"])),[[S,a.loading]]),l(g,{background:"",layout:"prev, pager, next",total:a.total,"page-size":a.pageSize,"current-page":a.currentPage,onCurrentChange:o.changePage},null,8,["total","page-size","current-page","onCurrentChange"])]),_:1})}var Z=B(G,[["render",U]]);export{Z as default};
