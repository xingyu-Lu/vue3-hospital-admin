var q=Object.defineProperty,B=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var h=(e,t,o)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,F=(e,t)=>{for(var o in t||(t={}))R.call(t,o)&&h(e,o,t[o]);if(g)for(var o of g(t))S.call(t,o)&&h(e,o,t[o]);return e},k=(e,t)=>B(e,O(t));import{_ as w,a as j}from"./index.29232199.js";import{am as v,aq as E,u as U,r as A,o as M,b as d,au as N,t as x,d as s,e as _,n as y,w as i,E as V,j as r,f as D,q as G,F as L,k as T,i as z}from"./vendor.11219713.js";const H={name:"menu_add",setup(){const e=v(null);v(null);const t=E(),o=U(),{id:a}=t.query,c=A({token:"Bearer "+j("token")||"",id:a,Form:{office_id:"",name:"",list:[]},rules:{office_id:[{required:!0,message:"\u79D1\u5BA4\u5FC5\u987B",trigger:["change"]}],name:[{required:!0,message:"\u680F\u76EE\u5FC5\u987B",trigger:["change"]}]}});M(()=>{b(),a&&d.get(`/api/back/technicalOfficeColumnSets/${a}`).then(l=>{c.Form={office_id:l.data.office_id,name:l.data.name}})}),N(()=>{});const b=async()=>{const l=await d.get("/api/back/technicalOffices");c.Form.list=l.data},f=()=>{e.value.validate(l=>{if(l){let u=d.post,p={id:a,office_id:c.Form.office_id,name:c.Form.name},m="/api/back/technicalOfficeColumnSets";a&&(u=d.put,m=`/api/back/technicalOfficeColumnSets/${a}`),u(m,p).then(()=>{a?V.success("\u4FEE\u6539\u6210\u529F"):V.success("\u6DFB\u52A0\u6210\u529F"),o.push({path:"/technicaloffice-column-set"})})}})};return k(F({},x(c)),{Ref:e,submitAdd:f})}};function I(e,t,o,a,c,b){const f=s("el-option"),l=s("el-select"),u=s("el-form-item"),p=s("el-input"),m=s("el-button"),C=s("el-form"),$=s("el-card");return _(),y($,{style:{"min-height":"100%"}},{default:i(()=>[r(C,{model:e.Form,rules:e.rules,ref:"Ref","label-width":"100px"},{default:i(()=>[r(u,{label:"\u79D1\u5BA4",prop:"office_id"},{default:i(()=>[r(l,{modelValue:e.Form.office_id,"onUpdate:modelValue":t[0]||(t[0]=n=>e.Form.office_id=n),placeholder:"Select",filterable:""},{default:i(()=>[(_(!0),D(L,null,G(e.Form.list,n=>(_(),y(f,{key:n.id,label:n.name,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),r(u,{label:"\u680F\u76EE\u540D\u5B57",prop:"name"},{default:i(()=>[r(p,{modelValue:e.Form.name,"onUpdate:modelValue":t[1]||(t[1]=n=>e.Form.name=n),placeholder:"\u8BF7\u8F93\u5165\u680F\u76EE\u540D\u5B57",type:"text"},null,8,["modelValue"])]),_:1}),r(u,null,{default:i(()=>[r(m,{type:"primary",onClick:t[2]||(t[2]=n=>a.submitAdd())},{default:i(()=>[T(z(e.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var Q=w(H,[["render",I]]);export{Q as default};
